<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock API</title>
    <link rel="stylesheet" href="../assets/css/stock_market_info.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,400;0,500;0,600;0,700;0,800;0,900;1,600&family=Tilt+Neon&display=swap" rel="stylesheet">
</head>
<body>
  <nav>
    <div class="navbar">
        <img class="nav-logo" src="../assets/images/Screenshot 2023-02-11 021952.png" alt="">
        <input class="search" list="search" type="text" placeholder="Search for topics,location & sources"  id="searchbar"/>
        <div class="notification"  id="notification-img">
          
          <div class="dropdown">
            <img class="notificationimg" onclick="profile1()" src="../assets/images/icons8-notification-50.png" alt="notification-img">
            <div class="dropdown-content-notification">
              <a><div class="notify-head">

               <h1 class="notify-user-h1">Notifications</h1>

              </div></a>
               <a href="#"><div class="notify-1">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Ajith</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-2">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Chandru</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-1">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Kamalesh</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-2">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Durga</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-1">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Vanitha</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-2">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Vicky</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-1">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Susi kumar</b> promoted your answer</p>

              </div></a> 
              <a href="#"><div class="notify-2">

                <img class="notify-user-img" src="../assets/images/icons8-male-user-48.png" alt="">
                <p class="notify-user-p"><b>Akshaya</b> promoted your answer</p>

              </div></a> 
            </div>
          </div>
    
        </div>
        <div class="notification">
            <div class="dropdown1">
            <img class="notificationimg" onclick="profile1()" src="../assets/images/icons8-translator-50.png" alt="translator-img">
            <div class="dropdown-content-lang"><br>
              <div id="google_translate_element" id="lang"></div>
                </div>
                </div>
        </div>
        <div class="notification">

          <a id="notificationimg" href="contact.html">
            <img class="notificationimg" src="../assets/images/icons8-online-support-50.png" alt="support-img">
          </a>

        </div>
          <div class="notification">
              <a class="dropdown" id="dropuser" href="userprofile.html">
                  
                
              </a>

    </div>

    <div class="tab">
        <a class="tablinks1" href="stock_market_info.html">Stock Market Informations</a>
        <a class="tablinks1" href="forex_market_info.html">forex Market Information</a>
        <a class="tablinks1" href="crypto_market_info.html">Crypto Market Information</a>
        <a class="tablinks1" href="etf_market_info.html">ETF Market Information</a>
        <a class="tablinks1" href="indices_info.html">Indices Information</a>
        <a class="tablinks1" href="mutual_funds_info.html">Exchange Information</a>
      </div> 
</nav>


<main>
  <div class="stock-flex">
    <h1 class="global-h1">Stock Market List</h1>
    <a href="market.html"><p class="breadcrumb">Global Market list</p></a>
    <p class="breadcrumb">/</p>
    <p class="breadcrumb">Stock Market List</p>
    <p class="searchresult" id="searchresult"></p>
  </div>


<div id="forex">



 

</div>



</main>
    <script>


            //userprofile show


    const register_arr = JSON.parse(localStorage.getItem("register_arr"));
    console.log(register_arr);

    const login_arr = JSON.parse(localStorage.getItem("login_arr"));
    console.log(login_arr);

    const get_obj = register_arr.find( event => event.email === login_arr);
    console.log(get_obj);
     

      let user_profile;


      user_profile = document.createElement("img");
      user_profile.setAttribute("id","user-profile");
      user_profile.setAttribute("class","dropbtn");
      user_profile.setAttribute("onclick","profile()");
      user_profile.setAttribute("src", get_obj["profile_pic"]);
      document.querySelector("#dropuser").prepend(user_profile);



    //  api call stock market search

const urls = "https://api.twelvedata.com/stocks";

let y;
fetch(urls)
.then((response) => {
  return response.json();
})
.then((parsedData) => {
    y = parsedData.data;

   console.log(y)
   createtags(y)

   console.log(y.length);
   document.getElementById("searchresult").innerText = "2,000 Search Results Found";
})

.catch((err) => {
   console.log(err + "OOps Something went wrong..!!");
});



     //card create
function createtags(y) {
     for(let i=6000;i<=8000;i++){
       next_div = document.createElement("div");
     next_div.setAttribute("class","cardsforex");
     next_div.innerHTML = `
     <div class="cards-innerforex-div">
       <h1 class="heading-card">${y[i]["name"]}</h1>
       <p><b>Symbol : </b>&emsp;${y[i]["type"]}</p>
       <p><b>Currency_Base :</b>&emsp;&emsp;${y[i]["symbol"]}</p>
       <p><b>Currency_Group :</b>&emsp;&emsp;${y[i]["country"]}</p>
       <p><b>Currency_Quote : </b>&emsp;${y[i]["currency"]}</p>
       <p><b>Currency_Quote : </b>&emsp;${y[i]["exchange"]}</p>
       <p><b>Currency_Quote : </b>&emsp;${y[i]["mic_code"]}</p>
       </div>
     `;

     document.getElementById("forex").append(next_div);
     }
   };

 

    //search filter
    let searchbar = document.getElementById("searchbar");
    const cards = document.getElementsByClassName("cardsforex");

   searchbar.addEventListener("input",() => {
    for(let i=0;i<cards.length;i++){
        const element = cards[i]
        if(element.innerHTML.toLowerCase().includes(searchbar.value.toLowerCase())){
           element.style.display = "block";
        } else {
          element.style.display = "none";
        }
    }
   });


function googleTranslateElementInit() {
  const translateElement = new google.translate.TranslateElement({pageLanguage: 'en'}, 'google_translate_element');
  return translateElement;
}


        </script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" integrity="sha384-9D80CF0B742E9EE6AAC1AE5091BC5B0D06042EC5EEF88D0E75AF268F9548E593A3EF5DFA3682A4BC0110932EF88F3E33"></script>




        </body>
        </html>