<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Payment</title>
    <link rel="stylesheet" href="../assets/css/coursePayment.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:ital,wght@0,100;0,200;0,400;0,500;0,600;0,700;0,800;0,900;1,600&family=Tilt+Neon&display=swap" rel="stylesheet">
</head>
<body>
    <nav>
        <div class="navbar">
            <img class="nav-logo" src="../assets/images/Screenshot 2023-02-11 021952.png" alt="">
            <input class="search" list="search" type="text" placeholder="Search for courses,videos & Blogs">
            <datalist id="search">
                <option value="warren buffett in anual letter,stays upbeat......">
                <option value="tesla elon musk fans tout cybertruck demand......">
                <option value="how to buy a stock and make your money four......">
                <option value="Dow Jones falters on hot inflation boeing groundened......">
                <option value="What's going on microsoft and between apple shares......">
                <option value="Big Tech hits $1.5 trillion in sales last year......">
                <option value="Sirius XM (SIRI) and Toyoto collaborate to celebrate......">
                <option value="Futures fall ahead of key inflation report investor's......">
                <option value="Netflix lands first partnership with NFL: how patrick......">
                <option value="Whatsapp to bring i-Message-like-feature to android and iPhone......">
            </datalist>
            <div class="notification">
              &emsp;&emsp;&emsp; <img class="notificationimg" onclick="profile1()" src="../assets/images/icons8-notification-50.png" alt="">
            </div>
            <div class="notification">
                <div class="dropdown">
                <img class="notificationimg" onclick="profile1()" src="../assets/images/icons8-translator-50.png" alt="">
                <div class="dropdown-content-lang"><br>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; English </a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; France</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Italy</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Arabic</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Espanol</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Algeria</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Albania</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Japanese</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Hindi</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Tamil</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Portuguese</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Spanish</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Russian</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; German</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Korean</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Telugu</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Turkish</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Ukranian</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Malayalam</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Kannada</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Chinese</a><br>
                    </div>
                    </div>
            </div>
            <div class="notification">
                <div class="dropdown">
                <img class="notificationimg" onclick="profile1()" src="../assets/images/icons8-online-support-50.png" alt="">
                <div class="dropdown-content"><br>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-group-50.png">&nbsp; Connect With Us</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-group-message-50.png">&nbsp; Chat With Us</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-invite-50.png">&nbsp; Write a Mail</a>
                    <a href="#"><img class="user-dropdown" src="../assets/images/icons8-online-support-50.png">&nbsp; Support Center</a><br>
                    </div>
                    </div>
            </div>
            <div class="notification">
                <div class="dropdown" id="dropuser">
                    
                    <div class="dropdown-content"><br>
                      <a href="userprofile.html"><img class="user-dropdown" src="../assets/images/icons8-group-50.png">&nbsp; Accounts</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-logout-rounded-50.png">&nbsp; Personal Details</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-invite-50.png">&nbsp; Invite & Earn</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-membership-card-30.png">&nbsp; Membership</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-light-mode-78.png">&nbsp; Appearance : Light</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-translator-50.png">&nbsp; Language : English</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-user-location-30.png">&nbsp; Location : India</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-gears-30.png">&nbsp; Settings</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-online-support-50.png">&nbsp; Help</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-group-50.png">&nbsp; Send feedback</a>
                      <a href="#"><img class="user-dropdown" src="../assets/images/icons8-logout-rounded-50 (1).png">&nbsp; Log Out</a><br>
                    </div>
                  </div>
            </div>

        </div>
        <div class="bread-crumb">
            <div><span class="slash">=></span> <a class="bread-crumb1" href="#">Home</a></div><span class="slash">/</span>
            <div><a class="bread-crumb1" href="#">Dashboard</a></div><span class="slash">/</span>
            <div><a class="bread-crumb1" href="#">Learn</a></div><span class="slash">/</span>
            <div><a class="bread-crumb1" >Payment</a></div>
        </div>
       
    </nav>
    <main>


<!--heropage start-->

<div class="heropage">

    <h1 class="heroh1">PAYMENT PAGE</h1>

    <div class="paymentbody">
        <h1>Payment method</h1>
     
        <div class="paymenttwocontainer">
     <div class="creditcardsideleft">
    
        <div class="creditcarddiv">
            <input type="radio" name="radio" id="radioactive" checked />&nbsp;
            <p class="creditcardpara">Credit card</p>
            <img class="creditcardimg" src="../assets/website images/Screenshot 2022-12-27 162307.png" alt="creditcardimg">
        </div>
        <form action="../thankyou.html">
            
        <p class="creditcardpara">Card number</p>
        <input type="number" name="" value="4232389874898325" id="cardnumber" maxlength="16" placeholder="Enter your 16 digit card number" required/>
    
        <div class="expirydiv">
            <div>
                <p class="creditcardpara">Expiration date</p>
                <select name="year" id="month">
                    <option value="Month">Month</option>
                    <option value="Jan">Jan</option>
                    <option value="Feb">Feb</option>
                    <option value="Mar">Mar</option>
                    <option value="Apr">Apr</option>
                    <option value="May">May</option>
                    <option value="Jun">Jun</option>
                    <option value="Jul">Jul</option>
                    <option value="Aug">Aug</option>
                    <option value="Sep">Sep</option>
                    <option value="Oct">Oct</option>
                    <option value="Nov">Nov</option>
                    <option value="Dec">Dec</option>
                    </select>
            </div>
            <div>
                <select name="year" id="year">
                <option value="Year">Year</option>
                <option value="2023">2023</option>
                <option value="2024">2024</option>
                <option value="2025">2025</option>
                <option value="2026">2026</option>
                </select>
            </div>
            <div>
                <p class="creditcardpara">Security code</p>
                <input type="password" name="securitycode" id="securitycode" value="383" placeholder="three digits cvv" maxlength="3" required/>
            </div>
        </div>
    
        <p class="termsandconditions">By clicking the button,you agree to the Terms and Conditions</p>
    
        <button id="paybtn" class="paybtn">Pay Now</button>
     </form>
    </div>
    
    <div class="creditrightdiv">
    
        <div  class="creditcarddiv2">
              <input type="radio" name="radio" id="radioactive" >&nbsp;
            <p class="creditcardpara">Paypal</p>
              <img class="creditcardimg" src="../assets/website images/Screenshot 2022-12-27 162307.png" alt="creditcardimg">
        </div>
    <br>
        <div  class="creditcarddiv2">
              <input type="radio" name="radio" id="radioactive" >&nbsp;
            <p class="creditcardpara">UPI</p>
              <img class="creditcardimg" src="../assets/website images/Screenshot 2022-12-27 162307.png" alt="creditcardimg">
        </div>
    <br>
        <div  class="creditcarddiv2">
              <input type="radio" name="radio" id="radioactive" >&nbsp;
            <p class="creditcardpara">Google Pay</p>
              <img class="creditcardimg" src="../assets/website images/Screenshot 2022-12-27 162307.png" alt="creditcardimg">
        </div>
    <br>
        <div  class="creditcarddiv2">
              <input type="radio" name="radio" id="radioactive" >&nbsp;
            <p class="creditcardpara">Phonepe</p>
              <img class="creditcardimg" src="../assets/website images/Screenshot 2022-12-27 162307.png" alt="creditcardimg">
        </div>
    
    </div>
    </div>
    
    </div>




































</main>


<script>
    const register_arr = JSON.parse(localStorage.getItem("register_arr"));
    console.log(register_arr);

    const login_arr = JSON.parse(localStorage.getItem("login_arr"));
    console.log(login_arr);

    const get_obj = register_arr.find( event => event.email === login_arr);
    console.log(get_obj);
     

      let user_profile;


      user_profile = document.createElement("img");
      user_profile.setAttribute("id","user-profile");
      user_profile.setAttribute("class","dropbtn");
      user_profile.setAttribute("onclick","profile()");
      user_profile.setAttribute("src", get_obj["profile_pic"]);
      document.querySelector("#dropuser").prepend(user_profile);


         //payment add course 

      const course_data = JSON.parse(localStorage.getItem("course_data"));
     console.log(course_data);

     const mycourses = JSON.parse(localStorage.getItem("add-to-card"));
     console.log(mycourses);

     const url = window.location.search;
     const urlParams = new URLSearchParams(url);
     const username = urlParams.get("name");
     console.log(username);

     const get_course_obj = course_data.find((event) => event.title === username );
     console.log(get_course_obj["id"]);


     const existobj = mycourses.filter((event) => event["id"] === get_course_obj["id"] );
     console.log(existobj);



      const pay_btn = document.getElementById("paybtn");
      pay_btn.addEventListener("click", (event) => {
      event.preventDefault();

    //   let payment_arr = [];
      
      if(localStorage.getItem("payment_arr") !== null ){
        payment_arr = JSON.parse(localStorage.getItem("payment_arr"));

        let card_number = document.getElementById("cardnumber").value; 
      let expiry_month = document.getElementById("month").value; 
      let expiry_year = document.getElementById("year").value; 
      let security_code = document.getElementById("securitycode").value; 
      let payment_id = Date.now(); 

     let payment_obj = {
        card_number,expiry_month,expiry_year,security_code,payment_id
     };

     payment_arr.push(payment_obj);

     localStorage.setItem("payment_arr",JSON.stringify(payment_arr));



     if( existobj[0] == undefined ){
        mycourses.push(get_course_obj);
     localStorage.setItem("add-to-card",JSON.stringify(mycourses));
     } else {
        alert("Course Already Added");
        window.location.href = "learn.html";
     }
    


      }

      else {

        let payment_arr = [];

        let card_number = document.getElementById("cardnumber").value; 
      let expiry_month = document.getElementById("month").value; 
      let expiry_year = document.getElementById("year").value; 
      let security_code = document.getElementById("securitycode").value; 
      let payment_id = Date.now(); 


     let payment_obj = {
        card_number,expiry_month,expiry_year,security_code,payment_id
     };

     payment_arr.push(payment_obj);

     localStorage.setItem("payment_arr",JSON.stringify(payment_arr));



        mycourses.push(get_course_obj);
     localStorage.setItem("add-to-card",JSON.stringify(mycourses));
    
    

      }


    window.location.href = "learn.html";

      });
   
  //     //payment add course 

  //     const course_data = JSON.parse(localStorage.getItem("course_data"));
  //    console.log(course_data);

  // const url = window.location.search;
  // const urlParams = new URLSearchParams(url);
  // const username = urlParams.get("name");
  // console.log(username);

  // const get_course_obj = course_data.find((event) => event["title"] == username);
  // console.log(get_course_obj);

  // const mycourses = JSON.parse(localStorage.getItem("add-to-card"));
  //    console.log(mycourses);

  //    const existobj = mycourses.find((event) => event.id === get_course_obj.id);
  //    console.log(existobj);


  //     const pay_btn = document.getElementById("paybtn");
  //     pay_btn.addEventListener("click", (event) => {
  //     event.preventDefault();




  //   //   let payment_arr = [];
      
  //     if(localStorage.getItem("payment_arr") !== null ){
  //       payment_arr = JSON.parse(localStorage.getItem("payment_arr"));

  //       let card_number = document.getElementById("cardnumber").value; 
  //     let expiry_month = document.getElementById("month").value; 
  //     let expiry_year = document.getElementById("year").value; 
  //     let security_code = document.getElementById("securitycode").value; 
  //     let payment_id = Date.now(); 

  //    let payment_obj = {
  //       card_number,expiry_month,expiry_year,security_code,payment_id
  //    };

  //    payment_arr.push(payment_obj);

  //    localStorage.setItem("payment_arr",JSON.stringify(payment_arr));

  //    if( existobj != undefined ){
  //       mycourses.push(get_course_obj);
  //    localStorage.setItem("add-to-card",JSON.stringify(mycourses));
  //    } else {
  //       alert("Course Already Added");
  //       window.location.href = "learn.html";
  //    }
    


  //     }

  //     else {

  //       let payment_arr = [];

  //       let card_number = document.getElementById("cardnumber").value; 
  //     let expiry_month = document.getElementById("month").value; 
  //     let expiry_year = document.getElementById("year").value; 
  //     let security_code = document.getElementById("securitycode").value; 
  //     let payment_id = Date.now(); 


  //    let payment_obj = {
  //       card_number,expiry_month,expiry_year,security_code,payment_id
  //    };

  //    payment_arr.push(payment_obj);

  //    localStorage.setItem("payment_arr",JSON.stringify(payment_arr));



  //       mycourses.push(get_course_obj);
  //    localStorage.setItem("add-to-card",JSON.stringify(mycourses));
    
    

  //     }


  //   window.location.href = "learn.html";

  //     });
   
</script>
</body>
</html>